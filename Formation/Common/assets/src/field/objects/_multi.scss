
/*
 * Imports
 * ------
 */

@use '@alanizcreative/formation/src/config';
@use '@alanizcreative/formation/src/utils/functions' as func;
@use '@alanizcreative/formation/src/utils/mixins' as mix;

/*
 * Multi field
 * -----------
 */

/* Internal variables */

$_border: func.calcRem( 1px ) solid rgba( func.getColor( 'foreground-dark' ), 0.2 );

/* Objects */

.o-multi__fields {
  .o-field-section[data-col] & {
    width: 100%;
    flex-direction: column;
  }

  @include mix.breakpointMin( 700 ) {
    padding-right: func.calcRem( 18px );
  }
}

.o-multi {
  .o-field-section[data-col] & {
    @extend %u-display-flex;
    flex-wrap: wrap;
    margin: func.calcRem( -10px );
  }
}

.o-multi__item {
	@extend %u-background-color-background-base;
	border: $_border;
  padding: func.calcRem( 8px ) func.calcRem( 10px );
  margin-bottom: func.calcRem( 20px );

  .o-field-section[data-col] & {
    margin: func.calcRem( 10px );
  }

  @include mix.breakpointMin( 700 ) {
  	display: flex;
  	justify-content: space-between;
  }
}

.o-multi__row {
  @extend %u-position-relative;
  padding-bottom: func.calcRem( 15px );
  margin-bottom: func.calcRem( 10px );

  &::after {
    @extend %u-content-empty;
    @extend %u-background-color-foreground-dark;
    @extend %u-position-absolute;
    @extend %u-bottom-0;
    @extend %u-right-0;
    @extend %u-left-0;
    @extend %u-margin-auto;
    width: calc( 100% - #{ func.calcRem( 20px ) } );
    height: func.calcRem( 1px );
    opacity: 0.2;
  }

  &:last-child {
    padding-bottom: 0;
    margin-bottom: 0;

    &::after {
      opacity: 0;
    }
  }

  & .o-field {
    margin-bottom: 0;
  }
}

.o-multi__buttons {
	margin: func.calcRem( -8px ) func.calcRem( -10px );

	@include mix.breakpointMax( 700 ) {
		margin-top: func.calcRem( 15px );
		border-top: $_border;
	}

  @include mix.breakpointMin( 700 ) {
  	flex-direction: column;
  	border-left: $_border;
  }
}

.o-multi__button {
  @extend %u-background-color-background-light;
  border: 0;
  outline: none;
  appearance: none !important;
  box-shadow: none !important;
  border-radius: 0;
  padding: func.calcRem( 8px );

  &:hover,
  &:active,
  &:focus {
    box-shadow: none !important;
    background-image: none;
    outline: none;
  }

  & .o-multi__icon {
  	color: rgba( func.getColor( 'foreground-dark' ), 0.30 );
  }

  @include mix.breakpointMax( 700 ) {
  	width: 100%;

  	&:nth-child( 2 ) {
  		border-left: $_border;
  	}
  }

  @include mix.breakpointMin( 700 ) {
  	height: 100%;

  	&:nth-child( 2 ) {
  		border-top: $_border;
  	}
  }
}
