!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var o=null!=arguments[l]?arguments[l]:{};l%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=wp.components,o=(l.Panel,l.PanelBody),r=l.BaseControl,a=l.CheckboxControl,c=(l.TextControl,l.Button),i=wp.blockEditor,m=i.MediaUpload,p=i.MediaUploadCheck,u=i.InspectorControls,s=wp.element.Fragment,d=wp.blocks.registerBlockType,v=window.namespace,w=v+"/media",b=window[v].blocks[w].attr,E=window[v].blocks[w].default,f=window[v].blocks[w].parent,h={title:"Media",category:"theme-blocks",attributes:b,edit:function(e){var n=e.attributes,l=e.setAttributes,i=n.id,d=void 0===i?E.id:i,v=n.url,w=void 0===v?E.url:v,b=n.type,f=void 0===b?E.type:b,h=(void 0===n.subtype&&E.subtype,n.alt),y=void 0===h?E.alt:h,g=(void 0===(void 0===n.height&&E.height,n.width)&&E.width,n.autoplay),k=void 0===g?E.autoplay:g,O=n.loop,C=void 0===O?E.loop:O,j=n.muted,N=void 0===j?E.muted:j,P=n.controls,D=void 0===P?E.controls:P,S=n.poster,T=void 0===S?E.poster:S,_=n.src,M=void 0===_?E.src:_,U=function(n){var o=n.mime.split("/")[0],r=n.mime.split("/")[1],a={id:n.id,type:o,subtype:r,width:n.width,height:n.height};if("video"==o){var c=t({},e.attributes.src);c[r]=n.url,a.src=c}"image"==o&&(a.alt=n.alt,a.url=n.url),l(a)},B=function(){l({id:"",type:"",url:"",src:E.src})},V="",A="",I="";for(var L in M)if(""!==M[L]){A=L,V=M[L];break}d&&V&&A&&(I='<video poster="'.concat(T||"",'">\n          <source src="').concat(V,'" type="video/').concat(A,'">\n        </video>'));var R=wp.element.createElement("div",null,"video"!=f?"":wp.element.createElement(s,null,wp.element.createElement(u,null,wp.element.createElement(o,{title:"Video Options"},wp.element.createElement(a,{label:"Autoplay",value:"1",checked:!!k,onChange:function(e){l({autoplay:e})}}),wp.element.createElement(a,{label:"Loop",value:"1",checked:!!C,onChange:function(e){l({loop:e})}}),wp.element.createElement(a,{label:"Muted",value:"1",checked:!!N,onChange:function(e){l({muted:e})}}),wp.element.createElement(a,{label:"Controls",value:"1",checked:!!D,onChange:function(e){l({controls:e})}}),wp.element.createElement("div",null,wp.element.createElement(p,null,["webm","mp4","ogv"].map((function(n,l){return wp.element.createElement(r,{label:n},M.hasOwnProperty(n)&&""!=M[n]?wp.element.createElement("div",null,wp.element.createElement(c,{isLink:!0,isDestructive:!0,onClick:function(){!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t({},e.attributes.src);o[n]=l,e.setAttributes({src:o})}(n,"")}},"Remove ",n)):wp.element.createElement(m,{onSelect:U,allowedTypes:["video/".concat(n)],render:function(e){var t=e.open;return wp.element.createElement(c,{isDefault:!0,onClick:t},"Upload ",n)}}))}))))))),I?wp.element.createElement("div",{className:"u-p-r"},wp.element.createElement(c,{className:"o-remove-button",onClick:B},wp.element.createElement("div",null,wp.element.createElement("span",{className:"u-v-h"},"Remove Video"),wp.element.createElement("div",{className:"o-remove-button__icon"},"×"))),wp.element.createElement("div",{className:"o-media-wrap",dangerouslySetInnerHTML:{__html:I}})):wp.element.createElement("div",{className:"o-button-wrap"},wp.element.createElement(p,null,wp.element.createElement(m,{onSelect:U,allowedTypes:["video/webm","video/mp4","video/ogv"],render:function(e){var t=e.open;return wp.element.createElement(c,{isDefault:!0,onClick:t},"Upload Video")}})))),x="";d&&w&&(x=wp.element.createElement("div",{className:"o-media-wrap"},wp.element.createElement("img",{src:w,alt:y})));var F=wp.element.createElement("div",{className:"u-p-r"},x?wp.element.createElement("div",null,wp.element.createElement(c,{className:"o-remove-button",onClick:B},wp.element.createElement("div",null,wp.element.createElement("span",{className:"u-v-h"},"Remove Video"),wp.element.createElement("div",{className:"o-remove-button__icon"},"×"))),x):wp.element.createElement("div",{className:"o-button-wrap"},wp.element.createElement(p,null,wp.element.createElement(m,{onSelect:U,allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement(c,{isDefault:!0,onClick:t},"Upload Image")}}))));return[R="image"!=f?R:"",F="video"!=f?F:""]},save:function(){return null}};f.length>0&&(h.parent=f),d(w,h)}();